Instructions for building the Radio Shack MIDI Lights project:

Check the Github repository for the most recent version of this document:
https://github.com/vinmarshall/Radio-Shack-MIDI-Lights


WARNING: It is strongly recommended that you use this project to control
low voltage lighting only, unless you are highly experienced in working with 
circuits and circuit boards that use 120VAC mains power.  Use of mains power 
involves significant risk.  It can potentially hurt or kill you, start fires, 
etc...


1. Acquire the parts, inspect the schematic,  and build the circuit board.  

Inspect the schematic for this project, which is in the schematic/ directory.
Each file corresponds to one section of the circuit.  The connections between
them are shown with busses, like the +12V, Gnd, and DS busses.

The parts to build this circuit are listed in the parts/ directory, in the 
circuit_board_BOM as correlated to component numbers on the schematic and pcb 
and in the ordering_BOM as an overall Bill of Materials for the project.  

The PCB itself is defined in the files in the ./PCB directory.  Look at the 
pcb_components.bmp and pcb_dimensions.pdf files to get a general idea of 
the board and the component placement.  The pcb_top_traces.pdf and 
pcb_bottom_traces.pdf will show you the traces.

If you have a windows machine, you can download the free ExpressPCB 
software from http://www.expresspcb.com/ that will open the 
PCB/rs_midi_lights.sch and .pcb files.

You can use the board layout I have provided and order your board directly 
from ExpressPCB, you can design and etch your own PCB layout, or you can 
build it on a perfboard with point to point wiring.  Which ever way you 
decide to construct this, pay careful attention to isolation of the wires or 
traces that carry the lighting power as well as the size of those wires or traces.

If you chose to have it made at Express PCB, try to team up with some other 
people to reduce your cost - the minimum order is 2 boards and the price per 
board goes down sharply with quantity.  Feel free to contact me - I may also 
have boards left over from a bulk order that I will sell.

If you are going to build it on a perfboard, you should be able to fit 
everything on 2 of Radio Shack p/n 276-147 - one for the relays and terminals, 
and one for everything else. You can use my board layout as a guide for 
where to place the components.

The circuit and pc board have only been designed and tested as specified in the 
rs_midi_lights.sch and rs_midi_lights.pcb files.  Check the github repository 
for the most recent versions of these files.  


2. Program the Arduino.  

Make sure you have the most recent version of the code by checking the 
github repository.

Download the Arduino code, compile it, and upload it onto your Arduino.
This project was built and testing using an Arduino Uno.

I would recommend testing the project with the code as is before you make
any changes so that you can initially verify the hardware, your MIDI source's 
compatability with the Arduino's MIDI library and this code, etc...

If you want to program the Arduino after you've connected it to the MIDI lights
circuit (1) make sure the lighting power is disconnected and (2) set the 
MIDI / PROG switch located next to the MIDI connector to "PROG".  Switch 
it back to MIDI after programming is complete.


3. Connect the circuit board to the Arduino.

You can do this in any number of ways.  If you want the quickest and cheapest
approach, just run wires from the connection points on the circuit board and
plug them into the Arduino headers.  I don't recommend this method for 
anything except prototyping and testing however.

The method I prefer is to use 0.1" headers on the circuit board and to 
make the connection with ribbon cable jumpers.

Either make your own jumpers with male pins on the Arduino end
so that you can plug them directly into the Arduino headers, or do what
I think is the cleanest, if not the cheapest solution:  Use a "maker shield" - 
essentially a bare Arduino shield - and set up 0.1" header pins for each 
of the jumpers that need to go over to the circuit board.  Then just make
or buy the jumper cables to go between the headers on your Arduino shield 
and the headers on your circuit board.  The maker shield, headers, and jumpers
are listed in the parts/ordering_BOM file.


4. Test the setup.

Do this step BEFORE making any connections to the screw terminals.

Attach a MIDI keyboard and power up the board and the Arduino.  You should 
hear all of the relays click 3 times.  Put the mode switch in "Live" and verify
that the notes you are playing on the keyboard are being translated into 
relays turning on and off.  You can see which relays are active because the 
corresponding LEDs will also be lit.


5. Put the circuit in an enclosure.

Put the board in some kind of suitable enclosure before you make your connections
to power.  A suitable enclosure will isolate and protect the component leads 
and wiring / traces on the board from any contact with contaminants, foreign 
objects, body parts, and any conductive part of the enclosure.  The board should 
be isolated by at least 1 inch from anything conductive.  The board cannot be 
left exposed because of the risk of contact with the power traces.

This board and this circuit are NOT designed to be used outside or in any 
kind of harsh environment.


5. Connect the lights.

I recommend the use of low voltage lighting with this project.  Remember that 
mains power can potentially burn down your house, kill you - that kind of thing.

Only consider using 120VAC with this project if you are comfortable not only in 
your ability to safely build and operate a project using mains power, but 
also in your ability to examine the circuit schematic and the circuit board 
to verify that it is suitable for this use and meets all applicable standards 
and regulations in your area.  The project isn't a finished consumer product 
and it shouldn't be treated as such.

The circuit is set up to provide power to each pair of terminals when the 
corresponding relay is activated.  The lighting power input is the set of 
terminals at the bottom of the board, in the center. 

If you are using low voltage DC, you'll connect the (+) lead to the power 
terminal at the bottom of the board marked "Line" and the (-) lead to the 
terminal marked "Neutral".  Observe the same convention at each of the 
output terminals as you connect the lighting.  Note that the orientation is 
reversed on the left and right sides of the board.

If you are using 120VAC, connect the black, or hot, leg to the power input
terminal at the bottom of the board marked "Line" and the white, or neutral, 
leg to the terminal marked "Neutral".  Observe the same convention at each of
the output terminals as you connect the lighting.  Note that the orientation 
is reversed on the left and right sides of the board.  You can connect the leads
of the lighting directly to the screw terminals, or you can do what I did - cut
up cheap 2 prong extensions cords from Home Depot (SKU# 144983 - $1.47 ea) to 
make power dongles that allow you to place the lighting further away.

Use a 3AG fuse no larger than 15A in the fuse holder.  Size the fuse's rating 
to your circuit's expected current draw.  Remember that the relays are rated for 
1A maximum at 120VAC or 24VDC.

Connect the mounting hole at the upper left corner of the board - the one marked
"GND" - to the chassis ground on your enclosure.  The Ground (green or bare) lead
from your mains power supply should be grounded to the same point on the chassis. 
It is very important to make this ground connection.

Make sure you have thought through and checked the circuit, the board, and all
of your wiring and connections to it BEFORE you connect power to this project. 
It is ultimately your responsibility to do this safely.


DISCLAIMER:  This project is not a consumer product; it is just one hobbyiest 
sharing his plans.  It is provided "AS IS" without warranty of any kind, 
either expressed or implied, including, but not limited to the implied 
warranties of merchantability and fitness for a particular purpose.  You 
are building and operating this at your own risk.  

If you are going to use this project to switch mains power, you must be 
aware of and in compliance with UL 60950-1, UL 62368, IPC-2221A, and any and 
all other relevant or applicable standards.  Please do not attempt to use this 
to switch mains power if you do not possess suffient experience to do so safely.


